<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vibeGraphQL - Modern & Minimalistic GraphQL for Go</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Enhanced Gradient */
        .gradient-hero {
             background: linear-gradient(135deg, #6366f1 /* indigo-500 */, #a855f7 /* purple-500 */);
        }
        .gradient-cta {
             background: linear-gradient(135deg, #4f46e5 /* indigo-600 */, #9333ea /* purple-600 */);
        }


        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Style for code blocks */
        pre[class*="language-"] {
            position: relative; /* Needed for potential copy button */
            padding: 1.5rem; /* p-6 */
            margin-top: 0.75rem; /* mt-3 */
            margin-bottom: 0.75rem; /* mb-3 */
            overflow: auto;
            border-radius: 0.5rem; /* rounded-lg */
            background: #1e293b; /* slate-800 */
            color: #cbd5e1; /* slate-300 */
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 0.875rem; /* text-sm */
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            border: 1px solid #334155; /* slate-700 */
        }
         /* Specific styling for the light schema example block */
        .schema-example pre {
             background-color: #f8fafc; /* slate-50 */
             border-left: 4px solid #6366f1; /* indigo-500 */
             color: #334155; /* slate-700 */
             padding: 1.5rem; /* p-6 */
             border-radius: 0 0.5rem 0.5rem 0; /* rounded-r-lg */
             margin-top: 0.75rem; /* mt-3 */
             border: 1px solid #e2e8f0; /* slate-200 */
             border-left-width: 4px;
        }

        /* Simple syntax highlighting imitation */
        .code-keyword { color: #93c5fd; } /* blue-300 */
        .code-string { color: #a7f3d0; } /* emerald-200 */
        .code-comment { color: #64748b; font-style: italic; } /* slate-500 */
        .code-type { color: #f0abfc; } /* fuchsia-300 */
        .code-function { color: #67e8f9; } /* cyan-300 */
        .code-number { color: #fcd34d; } /* amber-300 */
        .code-package { color: #e2e8f0; } /* slate-200 */
        .code-variable { color: #f8fafc; } /* slate-50 */
        .code-operator { color: #93c5fd; } /* blue-300 */
        .code-punctuation { color: #cbd5e1; } /* slate-300 */

        /* Light schema syntax highlighting */
        .schema-example .code-keyword { color: #6d28d9; } /* violet-700 */
        .schema-example .code-type { color: #be185d; } /* pink-700 */
        .schema-example .code-function { color: #047857; } /* emerald-700 */
        .schema-example .code-comment { color: #64748b; } /* slate-500 */
        .schema-example .code-string { color: #166534; } /* green-800 */

        /* Enhance focus states for accessibility */
        .btn:focus-visible, a:focus-visible {
            outline: 3px solid #a78bfa; /* violet-400 */
            outline-offset: 2px;
            border-radius: 9999px; /* Ensure outline matches button shape */
        }
        *:focus-visible {
             outline: 3px solid #a78bfa; /* violet-400 */
             outline-offset: 2px;
             border-radius: 0.25rem; /* Default rounded */
        }

         /* Enhanced Hover animations */
        .feature-card {
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }
        .feature-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* Tailwind shadow-2xl */
        }
         .btn-primary:hover {
            background-color: #f1f5f9; /* slate-100 for white button */
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Tailwind shadow-md */
         }
         .btn-ghost:hover {
             background-color: rgba(255, 255, 255, 0.1);
             transform: translateY(-2px);
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Tailwind shadow-md */
         }
         .btn {
             transition: all 0.2s ease-out;
         }

         /* Section title underline */
         .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: #8b5cf6; /* purple-500 */
            margin: 8px auto 0;
            border-radius: 2px;
         }

         /* Quick start step number */
         .step-number {
            background: #6366f1; /* indigo-500 */
            box-shadow: 0 4px 14px 0 rgba(99, 102, 241, 0.39);
         }

    </style>
</head>
<body class="bg-slate-50 text-slate-700 antialiased">

    <header class="gradient-hero text-white py-20 md:py-32 relative overflow-hidden">
         <div class="absolute top-0 left-0 w-64 h-64 bg-white/10 rounded-full -translate-x-16 -translate-y-16 opacity-50 blur-2xl"></div>
        <div class="absolute bottom-0 right-0 w-80 h-80 bg-white/5 rounded-full translate-x-20 translate-y-20 opacity-50 blur-3xl"></div>

        <div class="container mx-auto px-6 text-center relative z-10">
            <img src="https://github.com/user-attachments/assets/b121714e-d5dd-4b5b-801d-3f9089f95501" alt="vibeGraphQL Logo" class="mx-auto mb-6 h-28 md:h-36 w-auto drop-shadow-lg" onerror="this.style.display='none'">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 text-balance drop-shadow-md">
                Build Modern Go APIs with vibeGraphQL
            </h1>
            <p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto opacity-90 text-indigo-100 text-balance">
                A minimalistic, thread-safe GraphQL library supporting queries, mutations, subscriptions, and seamless file uploads.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
                <a href="#quick-start" class="btn btn-primary bg-white text-indigo-600 hover:text-indigo-700 font-bold py-3 px-8 rounded-full text-lg shadow-lg transform hover:scale-105">
                    Get Started
                </a>
                <a href="https://github.com/Raezil/vibeGraphql" target="_blank" rel="noopener noreferrer" class="btn btn-ghost border-2 border-white/80 text-white hover:bg-white hover:text-indigo-600 font-bold py-3 px-8 rounded-full text-lg shadow-lg transform hover:scale-105">
                    View on GitHub
                </a>
            </div>
        </div>
    </header>

    <section id="features" class="py-20 md:py-28 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="section-title text-3xl md:text-4xl font-bold text-center text-slate-800 mb-16 md:mb-20">
                Why vibeGraphQL?
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
                <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">Query Resolvers</h3>
                    <p class="text-slate-600">Efficiently fetch data with clean, intuitive resolver functions.</p>
                </div>
                <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">Mutation Resolvers</h3>
                    <p class="text-slate-600">Update and modify your data with ease using straightforward mutations.</p>
                </div>
                 <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.136 12.006a8.25 8.25 0 0 1 13.728 0M2.002 8.912a11.25 11.25 0 0 1 19.996 0M12 21h.008v.008H12V21Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">Subscription Resolvers</h3>
                    <p class="text-slate-600">Implement real-time updates to keep your clients in sync effortlessly.</p>
                </div>
                 <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">Thread-Safe</h3>
                    <p class="text-slate-600">Built with concurrency in mind for secure in-memory data handling.</p>
                </div>
                 <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 4.5 3.75h15A2.25 2.25 0 0 1 21.75 6v3.776" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">File Uploads</h3>
                    <p class="text-slate-600">Supports Apollo-style multiple file uploads out-of-the-box.</p>
                </div>
                 <div class="feature-card bg-slate-50 p-6 rounded-xl shadow-lg border border-slate-100">
                    <div class="mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-indigo-100 text-indigo-500">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-4.5 0V6.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V10.5m-7.5 0h7.5m-7.5 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm11.25 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                         </svg>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-slate-900">Simple Integration</h3>
                    <p class="text-slate-600">Easily integrate with standard Go HTTP handlers (<code class="text-xs bg-slate-200 text-slate-600 px-1 py-0.5 rounded">net/http</code>).</p>
                </div>
            </div>
        </div>
    </section>

    <section id="quick-start" class="py-20 md:py-28 bg-slate-100">
        <div class="container mx-auto px-6">
            <h2 class="section-title text-3xl md:text-4xl font-bold text-center text-slate-800 mb-16 md:mb-20">
                ðŸš€ Get Started Quickly
            </h2>
            <div class="max-w-4xl mx-auto space-y-12">
                <div class="flex flex-col md:flex-row items-start md:space-x-6">
                    <div class="flex-shrink-0 w-10 h-10 step-number text-white rounded-full flex items-center justify-center font-bold text-lg mb-4 md:mb-0">1</div>
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold mb-2 text-slate-900">Install vibeGraphQL</h3>
                        <p class="text-slate-600 mb-3">Get the package using the standard Go command.</p>
                        <pre class="language-bash"><code>go get github.com/Raezil/vibeGraphql</code></pre>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row items-start md:space-x-6">
                    <div class="flex-shrink-0 w-10 h-10 step-number text-white rounded-full flex items-center justify-center font-bold text-lg mb-4 md:mb-0">2</div>
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold mb-2 text-slate-900">Define Schema & Register Resolvers</h3>
                         <p class="text-slate-600 mb-3">Create your <code class="text-sm bg-slate-200 text-slate-700 px-1 py-0.5 rounded">schema.graphql</code> file and link it to your Go resolver functions in your main application setup.</p>
                         <pre class="language-go"><code><span class="code-comment">// Example: main.go</span>
<span class="code-keyword">import</span> <span class="code-punctuation">(</span>
    <span class="code-string">"log"</span>
    graphql <span class="code-string">"github.com/Raezil/vibeGraphql"</span>
<span class="code-punctuation">)</span>

<span class="code-comment">// Define your Go resolver functions (e.g., userResolver, updateUserResolver)</span>
<span class="code-comment">// matching the fields in your schema.graphql file.</span>
<span class="code-comment">// ...</span>

<span class="code-function">func</span> <span class="code-function">main</span><span class="code-punctuation">() {</span>
    <span class="code-comment">// Pass the path to your schema file.</span>
    <span class="code-comment">// This function parses the SDL and maps schema fields</span>
    <span class="code-comment">// to your registered Go functions.</span>
    <span class="code-keyword">if</span> err <span class="code-operator">:=</span> graphql<span class="code-punctuation">.</span><span class="code-function">RegisterResolversFromSDL</span><span class="code-punctuation">(</span><span class="code-string">"schema.graphql"</span><span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
        log<span class="code-punctuation">.</span><span class="code-function">Fatalf</span><span class="code-punctuation">(</span><span class="code-string">"Failed to register resolvers: %v"</span><span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
    <span class="code-punctuation">}</span>

    <span class="code-comment">// ... proceed to set up and start your HTTP server (Step 4)</span>
<span class="code-punctuation">}</span></code></pre>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row items-start md:space-x-6">
                    <div class="flex-shrink-0 w-10 h-10 step-number text-white rounded-full flex items-center justify-center font-bold text-lg mb-4 md:mb-0">3</div>
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold mb-2 text-slate-900">Create <code class="text-lg bg-slate-200 text-slate-700 px-1 py-0.5 rounded">schema.graphql</code></h3>
                        <p class="text-slate-600 mb-3">Define your API structure using GraphQL Schema Definition Language (SDL).</p>
                        <div class="schema-example">
                           <pre class="language-graphql"><code><span class="code-comment"># Define your queries (read operations)</span>
<span class="code-keyword">type</span> <span class="code-type">Query</span> {
  <span class="code-function">user</span>(id: <span class="code-type">ID!</span>): <span class="code-type">User</span>
  <span class="code-function">users</span>(ids: [<span class="code-type">ID!</span>]!): [<span class="code-type">User</span>]
}

<span class="code-comment"># Define your mutations (write operations)</span>
<span class="code-keyword">type</span> <span class="code-type">Mutation</span> {
  <span class="code-function">uploadFiles</span>(files: [<span class="code-type">FileInput</span>]!): [<span class="code-type">String</span>]
  <span class="code-function">updateUser</span>(id: <span class="code-type">ID!</span>, name: <span class="code-type">String!</span>): <span class="code-type">User</span>
}

<span class="code-comment"># Define your subscriptions (real-time updates)</span>
<span class="code-keyword">type</span> <span class="code-type">Subscription</span> {
  <span class="code-function">userUpdates</span>: <span class="code-type">User</span>
}

<span class="code-comment"># Define your object types</span>
<span class="code-keyword">type</span> <span class="code-type">User</span> {
  id: <span class="code-type">String!</span>
  name: <span class="code-type">String!</span>
  age: <span class="code-type">Int!</span>
}

<span class="code-comment"># Define input types for mutations/queries</span>
<span class="code-keyword">input</span> <span class="code-type">FileInput</span> {
    filename: <span class="code-type">String!</span>
    <span class="code-comment"># 'Upload' is a conventional custom scalar for file uploads</span>
    data: <span class="code-type">Upload!</span>
}
</code></pre>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row items-start md:space-x-6">
                    <div class="flex-shrink-0 w-10 h-10 step-number text-white rounded-full flex items-center justify-center font-bold text-lg mb-4 md:mb-0">4</div>
                    <div class="flex-1">
                        <h3 class="text-xl font-semibold mb-2 text-slate-900">Start HTTP Server</h3>
                        <p class="text-slate-600 mb-3">Use Go's standard <code class="text-sm bg-slate-200 text-slate-700 px-1 py-0.5 rounded">net/http</code> package to serve your GraphQL API.</p>
                        <pre class="language-go"><code><span class="code-keyword">import</span> <span class="code-punctuation">(</span>
	<span class="code-string">"log"</span>
	<span class="code-string">"net/http"</span>
	graphql <span class="code-string">"github.com/Raezil/vibeGraphql"</span>
<span class="code-punctuation">)</span>

<span class="code-function">func</span> <span class="code-function">main</span><span class="code-punctuation">() {</span>
    <span class="code-comment">// ... register resolvers first (from Step 2)</span>
    <span class="code-keyword">if</span> err <span class="code-operator">:=</span> graphql<span class="code-punctuation">.</span><span class="code-function">RegisterResolversFromSDL</span><span class="code-punctuation">(</span><span class="code-string">"schema.graphql"</span><span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-comment">/* handle error */</span> <span class="code-punctuation">}</span>

    mux <span class="code-operator">:=</span> http<span class="code-punctuation">.</span><span class="code-function">NewServeMux</span><span class="code-punctuation">()</span>

    <span class="code-comment">// Use GraphqlUploadHandler for the main endpoint to support file uploads.</span>
    <span class="code-comment">// This handles standard GraphQL requests (query/mutation) and multipart/form-data for uploads.</span>
    mux<span class="code-punctuation">.</span><span class="code-function">HandleFunc</span><span class="code-punctuation">(</span><span class="code-string">"/graphql"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span><span class="code-function">GraphqlUploadHandler</span><span class="code-punctuation">)</span>

    <span class="code-comment">// Use SubscriptionHandler for the WebSocket endpoint (typically /subscriptions or /ws).</span>
    mux<span class="code-punctuation">.</span><span class="code-function">HandleFunc</span><span class="code-punctuation">(</span><span class="code-string">"/subscriptions"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span><span class="code-function">SubscriptionHandler</span><span class="code-punctuation">)</span>

    port <span class="code-operator">:=</span> <span class="code-string">":8080"</span>
    log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš€ vibeGraphQL server starting on http://localhost%s\n"</span><span class="code-punctuation">,</span> port<span class="code-punctuation">)</span>

    <span class="code-comment">// Start the server</span>
    <span class="code-keyword">if</span> err <span class="code-operator">:=</span> http<span class="code-punctuation">.</span><span class="code-function">ListenAndServe</span><span class="code-punctuation">(</span>port<span class="code-punctuation">,</span> mux<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
        log<span class="code-punctuation">.</span><span class="code-function">Fatalf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš¨ Server failed to start: %v"</span><span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
    <span class="code-punctuation">}</span>
<span class="code-punctuation">}</span></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="example" class="py-20 md:py-28 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="section-title text-3xl md:text-4xl font-bold text-center text-slate-800 mb-4">
                ðŸ§ª Full Runnable Example
            </h2>
            <p class="text-center text-slate-600 mb-16 md:mb-20 max-w-2xl mx-auto text-balance">
                Dive into a complete Go application demonstrating queries, mutations, subscriptions, and file uploads powered by vibeGraphQL.
            </p>
            <div class="max-w-4xl mx-auto bg-slate-900 rounded-xl shadow-2xl overflow-hidden border border-slate-700">
                <div class="p-4 bg-slate-800 border-b border-slate-700 text-slate-300 text-sm font-mono flex justify-between items-center">
                    <span>main.go</span>
                    </div>
                <pre class="language-go mt-0 rounded-t-none border-0"><code><span class="code-keyword">package</span> <span class="code-package">main</span>

<span class="code-keyword">import</span> <span class="code-punctuation">(</span>
	<span class="code-string">"context"</span>
	<span class="code-string">"fmt"</span>
	<span class="code-string">"io/ioutil"</span>
	<span class="code-string">"log"</span>
	<span class="code-string">"net/http"</span>
	<span class="code-string">"os"</span>
	<span class="code-string">"os/signal"</span>
	<span class="code-string">"path/filepath"</span> <span class="code-comment">// Recommended for path joining</span>
	<span class="code-string">"strings"</span>     <span class="code-comment">// For basic filename cleaning</span>
	<span class="code-string">"sync"</span>
	<span class="code-string">"syscall"</span>
	<span class="code-string">"time"</span>

	graphql <span class="code-string">"github.com/Raezil/vibeGraphql"</span>
<span class="code-punctuation">)</span>

<span class="code-comment">// Global variable to hold the parsed schema document.</span>
<span class="code-keyword">var</span> schemaDocument <span class="code-operator">*</span>graphql<span class="code-punctuation">.</span>Document

<span class="code-comment">// LoadSchemaSDL reads the GraphQL schema file.</span>
<span class="code-function">func</span> <span class="code-function">LoadSchemaSDL</span><span class="code-punctuation">(</span>filePath <span class="code-type">string</span><span class="code-punctuation">)</span> <span class="code-type">error</span> <span class="code-punctuation">{</span>
	data<span class="code-punctuation">,</span> err <span class="code-operator">:=</span> ioutil<span class="code-punctuation">.</span><span class="code-function">ReadFile</span><span class="code-punctuation">(</span>filePath<span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"failed to read SDL file %q: %w"</span><span class="code-punctuation">,</span> filePath<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span> <span class="code-comment">// Use %w for error wrapping</span>
	<span class="code-punctuation">}</span>
	lexer <span class="code-operator">:=</span> graphql<span class="code-punctuation">.</span><span class="code-function">NewLexer</span><span class="code-punctuation">(</span><span class="code-function">string</span><span class="code-punctuation">(</span>data<span class="code-punctuation">))</span>
	parser <span class="code-operator">:=</span> graphql<span class="code-punctuation">.</span><span class="code-function">NewParser</span><span class="code-punctuation">(</span>lexer<span class="code-punctuation">)</span>
	doc <span class="code-operator">:=</span> parser<span class="code-punctuation">.</span><span class="code-function">ParseDocument</span><span class="code-punctuation">()</span>
	<span class="code-comment">// Check parser errors (important!)</span>
	<span class="code-keyword">if</span> <span class="code-function">len</span><span class="code-punctuation">(</span>parser<span class="code-punctuation">.</span>Errors<span class="code-punctuation">)</span> <span class="code-operator">></span> <span class="code-number">0</span> <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"failed to parse schema: %v"</span><span class="code-punctuation">,</span> parser<span class="code-punctuation">.</span>Errors<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>
	schemaDocument <span class="code-operator">=</span> doc
	log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Successfully loaded schema from %s"</span><span class="code-punctuation">,</span> filePath<span class="code-punctuation">)</span>
	<span class="code-keyword">return</span> <span class="code-keyword">nil</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// RegisterResolversFromSDL registers Go functions based on the parsed schema.</span>
<span class="code-function">func</span> <span class="code-function">RegisterResolversFromSDL</span><span class="code-punctuation">(</span>filePath <span class="code-type">string</span><span class="code-punctuation">)</span> <span class="code-type">error</span> <span class="code-punctuation">{</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> <span class="code-function">LoadSchemaSDL</span><span class="code-punctuation">(</span>filePath<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> err <span class="code-comment">// Error already wrapped by LoadSchemaSDL</span>
	<span class="code-punctuation">}</span>
	<span class="code-keyword">if</span> schemaDocument <span class="code-operator">==</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"internal error: schemaDocument is nil after loading %s"</span><span class="code-punctuation">,</span> filePath<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	<span class="code-comment">// Map schema field names to Go resolver functions.</span>
	availableResolvers <span class="code-operator">:=</span> <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span>graphql<span class="code-punctuation">.</span>ResolverFunc<span class="code-punctuation">{</span>
		<span class="code-string">"user"</span><span class="code-punctuation">:</span>        userResolver<span class="code-punctuation">,</span>
		<span class="code-string">"users"</span><span class="code-punctuation">:</span>       usersResolver<span class="code-punctuation">,</span>
		<span class="code-string">"updateUser"</span><span class="code-punctuation">:</span>  updateUserResolver<span class="code-punctuation">,</span>
		<span class="code-string">"uploadFiles"</span><span class="code-punctuation">:</span> uploadFilesResolver<span class="code-punctuation">,</span>
		<span class="code-string">"userUpdates"</span><span class="code-punctuation">:</span> userSubscriptionResolver<span class="code-punctuation">,</span>
	<span class="code-punctuation">}</span>

	<span class="code-comment">// Helper to register resolvers for a specific GraphQL type (Query, Mutation, Subscription).</span>
	registerForType <span class="code-operator">:=</span> <span class="code-keyword">func</span><span class="code-punctuation">(</span>typeName <span class="code-type">string</span><span class="code-punctuation">,</span> registerFunc <span class="code-keyword">func</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span>ResolverFunc<span class="code-punctuation">))</span> <span class="code-type">error</span> <span class="code-punctuation">{</span>
		foundType <span class="code-operator">:=</span> <span class="code-keyword">false</span>
		<span class="code-keyword">for</span> <span class="code-variable">_</span><span class="code-punctuation">,</span> def <span class="code-operator">:=</span> <span class="code-keyword">range</span> schemaDocument<span class="code-punctuation">.</span>Definitions <span class="code-punctuation">{</span>
			typeDef<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> def<span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-operator">*</span>graphql<span class="code-punctuation">.</span>TypeDefinition<span class="code-punctuation">)</span>
			<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-operator">||</span> typeDef<span class="code-punctuation">.</span>Name <span class="code-operator">!=</span> typeName <span class="code-punctuation">{</span>
				<span class="code-keyword">continue</span>
			<span class="code-punctuation">}</span>
			foundType <span class="code-operator">=</span> <span class="code-keyword">true</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Registering resolvers for type '%s'..."</span><span class="code-punctuation">,</span> typeName<span class="code-punctuation">)</span>
			<span class="code-keyword">for</span> <span class="code-variable">_</span><span class="code-punctuation">,</span> field <span class="code-operator">:=</span> <span class="code-keyword">range</span> typeDef<span class="code-punctuation">.</span>Fields <span class="code-punctuation">{</span>
				<span class="code-keyword">if</span> resolver<span class="code-punctuation">,</span> exists <span class="code-operator">:=</span> availableResolvers<span class="code-punctuation">[</span>field<span class="code-punctuation">.</span>Name<span class="code-punctuation">];</span> exists <span class="code-punctuation">{</span>
					<span class="code-function">registerFunc</span><span class="code-punctuation">(</span>field<span class="code-punctuation">.</span>Name<span class="code-punctuation">,</span> resolver<span class="code-punctuation">)</span>
					log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"  - Registered resolver for field '%s.%s'"</span><span class="code-punctuation">,</span> typeName<span class="code-punctuation">,</span> field<span class="code-punctuation">.</span>Name<span class="code-punctuation">)</span>
				<span class="code-punctuation">}</span> <span class="code-keyword">else</span> <span class="code-punctuation">{</span>
					<span class="code-comment">// This is expected if not all schema fields have corresponding Go resolvers (e.g., nested fields resolved by parent)</span>
					log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"  - No Go resolver function provided for '%s.%s' in availableResolvers map (may be resolved by parent or default)"</span><span class="code-punctuation">,</span> typeName<span class="code-punctuation">,</span> field<span class="code-punctuation">.</span>Name<span class="code-punctuation">)</span>
				<span class="code-punctuation">}</span>
			<span class="code-punctuation">}</span>
			<span class="code-keyword">break</span> <span class="code-comment">// Found the type definition, no need to check others</span>
		<span class="code-punctuation">}</span>
		<span class="code-keyword">if</span> <span class="code-operator">!</span>foundType <span class="code-punctuation">{</span>
			<span class="code-comment">// This might be okay if e.g. Mutation type is not defined in schema, but log it.</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Warning: Type '%s' not found in schema definition '%s'. Cannot register resolvers for it."</span><span class="code-punctuation">,</span> typeName<span class="code-punctuation">,</span> filePath<span class="code-punctuation">)</span>
		<span class="code-punctuation">}</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span>
	<span class="code-punctuation">}</span>

	<span class="code-comment">// Attempt to register resolvers for standard GraphQL operation types.</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> <span class="code-function">registerForType</span><span class="code-punctuation">(</span><span class="code-string">"Query"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span>RegisterQueryResolver<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-keyword">return</span> err <span class="code-punctuation">}</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> <span class="code-function">registerForType</span><span class="code-punctuation">(</span><span class="code-string">"Mutation"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span>RegisterMutationResolver<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-keyword">return</span> err <span class="code-punctuation">}</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> <span class="code-function">registerForType</span><span class="code-punctuation">(</span><span class="code-string">"Subscription"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span>RegisterSubscriptionResolver<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-keyword">return</span> err <span class="code-punctuation">}</span>

	log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"âœ… Resolvers registered successfully."</span><span class="code-punctuation">)</span>
	<span class="code-keyword">return</span> <span class="code-keyword">nil</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// User struct matching the GraphQL schema type.</span>
<span class="code-keyword">type</span> <span class="code-type">User</span> <span class="code-keyword">struct</span> <span class="code-punctuation">{</span>
	ID   <span class="code-type">string</span> <span class="code-string">`json:"id"`</span>
	Name <span class="code-type">string</span> <span class="code-string">`json:"name"`</span>
	Age  <span class="code-type">int</span>    <span class="code-string">`json:"age"`</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// Simple in-memory data store (replace with database in production).</span>
<span class="code-keyword">var</span> <span class="code-punctuation">(</span>
	userStore <span class="code-operator">=</span> <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-operator">*</span>User<span class="code-punctuation">{</span>
		<span class="code-string">"123"</span><span class="code-punctuation">:</span> <span class="code-punctuation">{</span>ID<span class="code-punctuation">:</span> <span class="code-string">"123"</span><span class="code-punctuation">,</span> Name<span class="code-punctuation">:</span> <span class="code-string">"Alice"</span><span class="code-punctuation">,</span> Age<span class="code-punctuation">:</span> <span class="code-number">30</span><span class="code-punctuation">},</span>
		<span class="code-string">"456"</span><span class="code-punctuation">:</span> <span class="code-punctuation">{</span>ID<span class="code-punctuation">:</span> <span class="code-string">"456"</span><span class="code-punctuation">,</span> Name<span class="code-punctuation">:</span> <span class="code-string">"Bob"</span><span class="code-punctuation">,</span> Age<span class="code-punctuation">:</span> <span class="code-number">25</span><span class="code-punctuation">},</span>
		<span class="code-string">"789"</span><span class="code-punctuation">:</span> <span class="code-punctuation">{</span>ID<span class="code-punctuation">:</span> <span class="code-string">"789"</span><span class="code-punctuation">,</span> Name<span class="code-punctuation">:</span> <span class="code-string">"Charlie"</span><span class="code-punctuation">,</span> Age<span class="code-punctuation">:</span> <span class="code-number">28</span><span class="code-punctuation">},</span>
	<span class="code-punctuation">}</span>
	storeMutex sync<span class="code-punctuation">.</span>RWMutex <span class="code-comment">// Use RWMutex for better read performance</span>
<span class="code-punctuation">)</span>

<span class="code-comment">// --- Resolver Implementations ---</span>

<span class="code-function">func</span> <span class="code-function">userResolver</span><span class="code-punctuation">(</span>source <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> args <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-punctuation">(</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> <span class="code-type">error</span><span class="code-punctuation">)</span> <span class="code-punctuation">{</span>
	id<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> args<span class="code-punctuation">[</span><span class="code-string">"id"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-operator">||</span> id <span class="code-operator">==</span> <span class="code-string">""</span> <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"argument 'id' is missing or invalid"</span><span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>
	storeMutex<span class="code-punctuation">.</span><span class="code-function">RLock</span><span class="code-punctuation">()</span> <span class="code-comment">// Read lock</span>
	<span class="code-keyword">defer</span> storeMutex<span class="code-punctuation">.</span><span class="code-function">RUnlock</span><span class="code-punctuation">()</span>
	user<span class="code-punctuation">,</span> exists <span class="code-operator">:=</span> userStore<span class="code-punctuation">[</span>id<span class="code-punctuation">]</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>exists <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"user with id '%s' not found"</span><span class="code-punctuation">,</span> id<span class="code-punctuation">)</span> <span class="code-comment">// Return nil, error for not found</span>
	<span class="code-punctuation">}</span>
	<span class="code-keyword">return</span> user<span class="code-punctuation">,</span> <span class="code-keyword">nil</span>
<span class="code-punctuation">}</span>

<span class="code-function">func</span> <span class="code-function">usersResolver</span><span class="code-punctuation">(</span>source <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> args <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-punctuation">(</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> <span class="code-type">error</span><span class="code-punctuation">)</span> <span class="code-punctuation">{</span>
	idsRaw<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> args<span class="code-punctuation">[</span><span class="code-string">"ids"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"argument 'ids' is missing or not an array"</span><span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>
	ids <span class="code-operator">:=</span> <span class="code-function">make</span><span class="code-punctuation">(</span><span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-type">string</span><span class="code-punctuation">,</span> <span class="code-number">0</span><span class="code-punctuation">,</span> <span class="code-function">len</span><span class="code-punctuation">(</span>idsRaw<span class="code-punctuation">))</span>
	<span class="code-keyword">for</span> i<span class="code-punctuation">,</span> v <span class="code-operator">:=</span> <span class="code-keyword">range</span> idsRaw <span class="code-punctuation">{</span>
		idStr<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> v<span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">)</span>
		<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-operator">||</span> idStr <span class="code-operator">==</span> <span class="code-string">""</span><span class="code-punctuation">{</span>
			<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"invalid ID at index %d in 'ids' argument"</span><span class="code-punctuation">,</span> i<span class="code-punctuation">)</span>
		<span class="code-punctuation">}</span>
		ids <span class="code-operator">=</span> <span class="code-function">append</span><span class="code-punctuation">(</span>ids<span class="code-punctuation">,</span> idStr<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	storeMutex<span class="code-punctuation">.</span><span class="code-function">RLock</span><span class="code-punctuation">()</span> <span class="code-comment">// Read lock</span>
	<span class="code-keyword">defer</span> storeMutex<span class="code-punctuation">.</span><span class="code-function">RUnlock</span><span class="code-punctuation">()</span>
	<span class="code-keyword">var</span> users <span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-operator">*</span>User <span class="code-comment">// Slice of pointers to User</span>
	<span class="code-keyword">for</span> <span class="code-variable">_</span><span class="code-punctuation">,</span> id <span class="code-operator">:=</span> <span class="code-keyword">range</span> ids <span class="code-punctuation">{</span>
		<span class="code-keyword">if</span> user<span class="code-punctuation">,</span> exists <span class="code-operator">:=</span> userStore<span class="code-punctuation">[</span>id<span class="code-punctuation">];</span> exists <span class="code-punctuation">{</span>
			users <span class="code-operator">=</span> <span class="code-function">append</span><span class="code-punctuation">(</span>users<span class="code-punctuation">,</span> user<span class="code-punctuation">)</span>
		<span class="code-punctuation">}</span>
	<span class="code-punctuation">}</span>
	<span class="code-keyword">return</span> users<span class="code-punctuation">,</span> <span class="code-keyword">nil</span> <span class="code-comment">// Return the slice of found users</span>
<span class="code-punctuation">}</span>

<span class="code-function">func</span> <span class="code-function">updateUserResolver</span><span class="code-punctuation">(</span>source <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> args <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-punctuation">(</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> <span class="code-type">error</span><span class="code-punctuation">)</span> <span class="code-punctuation">{</span>
	id<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> args<span class="code-punctuation">[</span><span class="code-string">"id"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-operator">||</span> id <span class="code-operator">==</span> <span class="code-string">""</span><span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"argument 'id' is missing or invalid"</span><span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>
	newName<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> args<span class="code-punctuation">[</span><span class="code-string">"name"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-operator">||</span> newName <span class="code-operator">==</span> <span class="code-string">""</span><span class="code-punctuation">{</span> <span class="code-comment">// Also check if name is empty</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"argument 'name' is missing or invalid"</span><span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	storeMutex<span class="code-punctuation">.</span><span class="code-function">Lock</span><span class="code-punctuation">()</span> <span class="code-comment">// Write lock</span>
	<span class="code-keyword">defer</span> storeMutex<span class="code-punctuation">.</span><span class="code-function">Unlock</span><span class="code-punctuation">()</span>
	user<span class="code-punctuation">,</span> exists <span class="code-operator">:=</span> userStore<span class="code-punctuation">[</span>id<span class="code-punctuation">]</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>exists <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"user with id '%s' not found for update"</span><span class="code-punctuation">,</span> id<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>
	user<span class="code-punctuation">.</span>Name <span class="code-operator">=</span> newName <span class="code-comment">// Update the name</span>
	log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"âœï¸ Updated user %s name to '%s'\n"</span><span class="code-punctuation">,</span> id<span class="code-punctuation">,</span> newName<span class="code-punctuation">)</span>
	<span class="code-keyword">return</span> user<span class="code-punctuation">,</span> <span class="code-keyword">nil</span> <span class="code-comment">// Return the updated user</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// userSubscriptionResolver sends updates for a specific user periodically.</span>
<span class="code-function">func</span> <span class="code-function">userSubscriptionResolver</span><span class="code-punctuation">(</span>source <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> args <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-punctuation">(</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> <span class="code-type">error</span><span class="code-punctuation">)</span> <span class="code-punctuation">{</span>
	ch <span class="code-operator">:=</span> <span class="code-function">make</span><span class="code-punctuation">(</span><span class="code-keyword">chan</span> <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-comment">// Channel to send updates</span>
	log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"ðŸ“¡ Subscription client connected. Starting updates for user '123'."</span><span class="code-punctuation">)</span>

	<span class="code-comment">// Goroutine to periodically send updates.</span>
	<span class="code-keyword">go</span> <span class="code-keyword">func</span><span class="code-punctuation">()</span> <span class="code-punctuation">{</span>
		ticker <span class="code-operator">:=</span> time<span class="code-punctuation">.</span><span class="code-function">NewTicker</span><span class="code-punctuation">(</span><span class="code-number">3</span> <span class="code-operator">*</span> time<span class="code-punctuation">.</span>Second<span class="code-punctuation">)</span> <span class="code-comment">// Send update every 3 seconds</span>
		<span class="code-keyword">defer</span> ticker<span class="code-punctuation">.</span><span class="code-function">Stop</span><span class="code-punctuation">()</span>

		<span class="code-comment">// Need a way to stop this goroutine when the client disconnects.</span>
		<span class="code-comment">// vibeGraphQL might handle channel closing, or context cancellation is needed.</span>
		<span class="code-comment">// For simplicity, this example runs indefinitely until the server stops.</span>
		<span class="code-keyword">for</span> range ticker<span class="code-punctuation">.</span>C <span class="code-punctuation">{</span>
			storeMutex<span class="code-punctuation">.</span><span class="code-function">RLock</span><span class="code-punctuation">()</span>
			userToSend<span class="code-punctuation">,</span> exists <span class="code-operator">:=</span> userStore<span class="code-punctuation">[</span><span class="code-string">"123"</span><span class="code-punctuation">]</span>
			<span class="code-keyword">if</span> <span class="code-operator">!</span>exists <span class="code-punctuation">{</span>
				log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"Subscription Error: User '123' not found in store."</span><span class="code-punctuation">)</span>
				storeMutex<span class="code-punctuation">.</span><span class="code-function">RUnlock</span><span class="code-punctuation">()</span>
				<span class="code-keyword">continue</span> <span class="code-comment">// Skip this tick</span>
			<span class="code-punctuation">}</span>
			<span class="code-comment">// Important: Send a copy to avoid race conditions if the original is modified elsewhere.</span>
			userCopy <span class="code-operator">:=</span> <span class="code-operator">*</span>userToSend
			storeMutex<span class="code-punctuation">.</span><span class="code-function">RUnlock</span><span class="code-punctuation">()</span>

			<span class="code-comment">// Non-blocking send to the channel.</span>
			<span class="code-keyword">select</span> <span class="code-punctuation">{</span>
			<span class="code-keyword">case</span> ch <span class="code-operator">&lt;-</span> <span class="code-operator">&amp;</span>userCopy<span class="code-punctuation">:</span> <span class="code-comment">// Send pointer to the copy</span>
				log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸ“¡ Sent update for user %s (Name: %s)"</span><span class="code-punctuation">,</span> userCopy<span class="code-punctuation">.</span>ID<span class="code-punctuation">,</span> userCopy<span class="code-punctuation">.</span>Name<span class="code-punctuation">)</span>
			<span class="code-keyword">default</span><span class="code-punctuation">:</span>
				log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"Subscription channel blocked (client likely disconnected). Stopping updates for this client."</span><span class="code-punctuation">)</span>
				<span class="code-comment">// In a real app, closing the channel signals vibeGraphQL to clean up.</span>
				<span class="code-comment">// close(ch) // Uncomment if vibeGraphQL expects the channel to be closed by the resolver.</span>
				<span class="code-keyword">return</span> <span class="code-comment">// Exit the goroutine for this client</span>
			<span class="code-punctuation">}</span>
		<span class="code-punctuation">}</span>
	<span class="code-punctuation">}</span><span class="code-punctuation">()</span>

	<span class="code-keyword">return</span> ch<span class="code-punctuation">,</span> <span class="code-keyword">nil</span> <span class="code-comment">// Return the channel to vibeGraphQL</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// uploadFilesResolver handles multipart file uploads.</span>
<span class="code-function">func</span> <span class="code-function">uploadFilesResolver</span><span class="code-punctuation">(</span>source <span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> args <span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span> <span class="code-punctuation">(</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">,</span> <span class="code-type">error</span><span class="code-punctuation">)</span> <span class="code-punctuation">{</span>
	rawFiles<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> args<span class="code-punctuation">[</span><span class="code-string">"files"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span>
	<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-punctuation">{</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"argument 'files' not found or not an array"</span><span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	uploadDir <span class="code-operator">:=</span> <span class="code-string">"./uploads"</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> os<span class="code-punctuation">.</span><span class="code-function">MkdirAll</span><span class="code-punctuation">(</span>uploadDir<span class="code-punctuation">,</span> <span class="code-number">0750</span><span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-comment">// Use 0750 for security</span>
		<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"failed to create upload directory '%s': %w"</span><span class="code-punctuation">,</span> uploadDir<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	<span class="code-keyword">var</span> results <span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-type">string</span>
	<span class="code-keyword">for</span> idx<span class="code-punctuation">,</span> rawFile <span class="code-operator">:=</span> <span class="code-keyword">range</span> rawFiles <span class="code-punctuation">{</span>
		<span class="code-comment">// vibeGraphQL should provide file details in a map. Adjust keys if needed.</span>
		fileData<span class="code-punctuation">,</span> ok <span class="code-operator">:=</span> rawFile<span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-keyword">map</span><span class="code-punctuation">[</span><span class="code-type">string</span><span class="code-punctuation">]</span><span class="code-keyword">interface</span><span class="code-punctuation">{</span><span class="code-punctuation">}</span><span class="code-punctuation">)</span>
		<span class="code-keyword">if</span> <span class="code-operator">!</span>ok <span class="code-punctuation">{</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Warning: Skipping item at index %d in 'files' array - not a map structure."</span><span class="code-punctuation">,</span> idx<span class="code-punctuation">)</span>
			<span class="code-keyword">continue</span>
		<span class="code-punctuation">}</span>

		filename<span class="code-punctuation">,</span> fnameOK <span class="code-operator">:=</span> fileData<span class="code-punctuation">[</span><span class="code-string">"filename"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-type">string</span><span class="code-punctuation">)</span>
		dataBytes<span class="code-punctuation">,</span> dataOK <span class="code-operator">:=</span> fileData<span class="code-punctuation">[</span><span class="code-string">"data"</span><span class="code-punctuation">]</span><span class="code-punctuation">.</span><span class="code-punctuation">(</span><span class="code-punctuation">[</span><span class="code-punctuation">]</span><span class="code-type">byte</span><span class="code-punctuation">)</span>

		<span class="code-keyword">if</span> <span class="code-operator">!</span>fnameOK <span class="code-operator">||</span> <span class="code-operator">!</span>dataOK <span class="code-punctuation">{</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Warning: Skipping file at index %d - invalid structure (missing 'filename' or 'data')."</span><span class="code-punctuation">,</span> idx<span class="code-punctuation">)</span>
			<span class="code-keyword">continue</span>
		<span class="code-punctuation">}</span>

		<span class="code-comment">// **Security:** Basic filename cleaning. Replace with a robust library in production.</span>
		<span class="code-comment">// This prevents path traversal (e.g., "../../../etc/passwd").</span>
		safeFilename <span class="code-operator">:=</span> filepath<span class="code-punctuation">.</span><span class="code-function">Base</span><span class="code-punctuation">(</span>filename<span class="code-punctuation">)</span> <span class="code-comment">// Removes directory paths</span>
		safeFilename <span class="code-operator">=</span> strings<span class="code-punctuation">.</span><span class="code-function">ReplaceAll</span><span class="code-punctuation">(</span>safeFilename<span class="code-punctuation">,</span> <span class="code-string">".."</span><span class="code-punctuation">,</span> <span class="code-string">""</span><span class="code-punctuation">)</span> <span class="code-comment">// Remove ".." just in case</span>
		<span class="code-keyword">if</span> safeFilename <span class="code-operator">==</span> <span class="code-string">""</span> <span class="code-operator">||</span> safeFilename <span class="code-operator">==</span> <span class="code-string">"."</span> <span class="code-operator">||</span> safeFilename <span class="code-operator">==</span> <span class="code-string">"/"</span> <span class="code-punctuation">{</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Warning: Skipping file at index %d - potentially unsafe filename '%s'."</span><span class="code-punctuation">,</span> idx<span class="code-punctuation">,</span> filename<span class="code-punctuation">)</span>
			<span class="code-keyword">continue</span>
		<span class="code-punctuation">}</span>

		filePath <span class="code-operator">:=</span> filepath<span class="code-punctuation">.</span><span class="code-function">Join</span><span class="code-punctuation">(</span>uploadDir<span class="code-punctuation">,</span> safeFilename<span class="code-punctuation">)</span>

		<span class="code-keyword">if</span> err <span class="code-operator">:=</span> ioutil<span class="code-punctuation">.</span><span class="code-function">WriteFile</span><span class="code-punctuation">(</span>filePath<span class="code-punctuation">,</span> dataBytes<span class="code-punctuation">,</span> <span class="code-number">0640</span><span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span> <span class="code-comment">// Use 0640 for security</span>
			log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"Error saving file '%s': %v"</span><span class="code-punctuation">,</span> safeFilename<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
			<span class="code-comment">// Decide whether to return an error for the whole mutation or just skip this file</span>
			<span class="code-keyword">return</span> <span class="code-keyword">nil</span><span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Errorf</span><span class="code-punctuation">(</span><span class="code-string">"failed to save file '%s': %w"</span><span class="code-punctuation">,</span> safeFilename<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
		<span class="code-punctuation">}</span>
		log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"âœ… Uploaded file '%s' (%d bytes) to %s\n"</span><span class="code-punctuation">,</span> safeFilename<span class="code-punctuation">,</span> <span class="code-function">len</span><span class="code-punctuation">(</span>dataBytes<span class="code-punctuation">),</span> filePath<span class="code-punctuation">)</span>
		results <span class="code-operator">=</span> <span class="code-function">append</span><span class="code-punctuation">(</span>results<span class="code-punctuation">,</span> fmt<span class="code-punctuation">.</span><span class="code-function">Sprintf</span><span class="code-punctuation">(</span><span class="code-string">"Successfully uploaded %s"</span><span class="code-punctuation">,</span> safeFilename<span class="code-punctuation">))</span>
	<span class="code-punctuation">}</span>
	<span class="code-keyword">return</span> results<span class="code-punctuation">,</span> <span class="code-keyword">nil</span>
<span class="code-punctuation">}</span>

<span class="code-comment">// --- Main Function (Server Setup & Graceful Shutdown) ---</span>

<span class="code-function">func</span> <span class="code-function">main</span><span class="code-punctuation">()</span> <span class="code-punctuation">{</span>
	schemaFile <span class="code-operator">:=</span> <span class="code-string">"schema.graphql"</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> <span class="code-function">RegisterResolversFromSDL</span><span class="code-punctuation">(</span>schemaFile<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
		log<span class="code-punctuation">.</span><span class="code-function">Fatalf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš¨ FATAL: Failed to initialize resolvers from '%s': %v"</span><span class="code-punctuation">,</span> schemaFile<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	mux <span class="code-operator">:=</span> http<span class="code-punctuation">.</span><span class="code-function">NewServeMux</span><span class="code-punctuation">()</span>
	mux<span class="code-punctuation">.</span><span class="code-function">HandleFunc</span><span class="code-punctuation">(</span><span class="code-string">"/graphql"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span><span class="code-function">GraphqlUploadHandler</span><span class="code-punctuation">)</span>
	mux<span class="code-punctuation">.</span><span class="code-function">HandleFunc</span><span class="code-punctuation">(</span><span class="code-string">"/subscriptions"</span><span class="code-punctuation">,</span> graphql<span class="code-punctuation">.</span><span class="code-function">SubscriptionHandler</span><span class="code-punctuation">)</span>

	port <span class="code-operator">:=</span> <span class="code-string">"8080"</span>
	server <span class="code-operator">:=</span> <span class="code-operator">&amp;</span>http<span class="code-punctuation">.</span>Server<span class="code-punctuation">{</span>
		Addr<span class="code-punctuation">:</span>    <span class="code-string">":"</span> <span class="code-operator">+</span> port<span class="code-punctuation">,</span>
		Handler<span class="code-punctuation">:</span> mux<span class="code-punctuation">,</span>
		<span class="code-comment">// Add timeouts for production hardening</span>
		ReadTimeout<span class="code-punctuation">:</span>  <span class="code-number">15</span> <span class="code-operator">*</span> time<span class="code-punctuation">.</span>Second<span class="code-punctuation">,</span>
		WriteTimeout<span class="code-punctuation">:</span> <span class="code-number">15</span> <span class="code-operator">*</span> time<span class="code-punctuation">.</span>Second<span class="code-punctuation">,</span>
		IdleTimeout<span class="code-punctuation">:</span>  <span class="code-number">60</span> <span class="code-operator">*</span> time<span class="code-punctuation">.</span>Second<span class="code-punctuation">,</span>
	<span class="code-punctuation">}</span>

	<span class="code-comment">// Channel to listen for OS signals</span>
	stopChan <span class="code-operator">:=</span> <span class="code-function">make</span><span class="code-punctuation">(</span><span class="code-keyword">chan</span> os<span class="code-punctuation">.</span>Signal<span class="code-punctuation">,</span> <span class="code-number">1</span><span class="code-punctuation">)</span>
	signal<span class="code-punctuation">.</span><span class="code-function">Notify</span><span class="code-punctuation">(</span>stopChan<span class="code-punctuation">,</span> syscall<span class="code-punctuation">.</span>SIGINT<span class="code-punctuation">,</span> syscall<span class="code-punctuation">.</span>SIGTERM<span class="code-punctuation">)</span>

	<span class="code-comment">// Start server in a separate goroutine</span>
	<span class="code-keyword">go</span> <span class="code-keyword">func</span><span class="code-punctuation">()</span> <span class="code-punctuation">{</span>
		log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"âœ… vibeGraphQL server listening on http://localhost:%s/graphql\n"</span><span class="code-punctuation">,</span> port<span class="code-punctuation">)</span>
		log<span class="code-punctuation">.</span><span class="code-function">Printf</span><span class="code-punctuation">(</span><span class="code-string">"âœ… Subscriptions available on ws://localhost:%s/subscriptions\n"</span><span class="code-punctuation">,</span> port<span class="code-punctuation">)</span>
		<span class="code-keyword">if</span> err <span class="code-operator">:=</span> server<span class="code-punctuation">.</span><span class="code-function">ListenAndServe</span><span class="code-punctuation">();</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-operator">&amp;&amp;</span> err <span class="code-operator">!=</span> http<span class="code-punctuation">.</span>ErrServerClosed <span class="code-punctuation">{</span>
			log<span class="code-punctuation">.</span><span class="code-function">Fatalf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš¨ Could not listen on :%s: %v\n"</span><span class="code-punctuation">,</span> port<span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
		<span class="code-punctuation">}</span>
	<span class="code-punctuation">}</span><span class="code-punctuation">()</span>

	<span class="code-comment">// Wait for interrupt signal</span>
	<span class="code-operator">&lt;-</span>stopChan
	log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš¦ Shutdown signal received, attempting graceful shutdown..."</span><span class="code-punctuation">)</span>

	<span class="code-comment">// Create a deadline context for the shutdown.</span>
	ctx<span class="code-punctuation">,</span> cancel <span class="code-operator">:=</span> context<span class="code-punctuation">.</span><span class="code-function">WithTimeout</span><span class="code-punctuation">(</span>context<span class="code-punctuation">.</span><span class="code-function">Background</span><span class="code-punctuation">(),</span> <span class="code-number">10</span><span class="code-operator">*</span>time<span class="code-punctuation">.</span>Second<span class="code-punctuation">)</span> <span class="code-comment">// Increased timeout</span>
	<span class="code-keyword">defer</span> <span class="code-function">cancel</span><span class="code-punctuation">()</span>

	<span class="code-comment">// Attempt to gracefully shut down the server.</span>
	<span class="code-keyword">if</span> err <span class="code-operator">:=</span> server<span class="code-punctuation">.</span><span class="code-function">Shutdown</span><span class="code-punctuation">(</span>ctx<span class="code-punctuation">);</span> err <span class="code-operator">!=</span> <span class="code-keyword">nil</span> <span class="code-punctuation">{</span>
		log<span class="code-punctuation">.</span><span class="code-function">Fatalf</span><span class="code-punctuation">(</span><span class="code-string">"ðŸš¨ Server forced to shutdown: %v"</span><span class="code-punctuation">,</span> err<span class="code-punctuation">)</span>
	<span class="code-punctuation">}</span>

	log<span class="code-punctuation">.</span><span class="code-function">Println</span><span class="code-punctuation">(</span><span class="code-string">"ðŸ Server exited gracefully"</span><span class="code-punctuation">)</span>
<span class="code-punctuation">}</span>
</code></pre>
            </div>
        </div>
    </section>

    <section class="gradient-cta text-white py-20 md:py-28">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-6 drop-shadow">
                Ready to Vibe with GraphQL?
            </h2>
            <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto opacity-90 text-indigo-100 text-balance">
                Star the project on GitHub, explore the examples, and start building your next high-performance Go API with vibeGraphQL today.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
                 <a href="https://github.com/Raezil/vibeGraphql" target="_blank" rel="noopener noreferrer" class="btn btn-primary bg-white text-indigo-600 hover:text-indigo-700 font-bold py-3 px-8 rounded-full text-lg shadow-lg transform hover:scale-105">
                    â­ Star on GitHub
                </a>
                <a href="#quick-start" class="btn btn-ghost border-2 border-white/80 text-white hover:bg-white hover:text-indigo-600 font-bold py-3 px-8 rounded-full text-lg shadow-lg transform hover:scale-105">
                    Quick Start Guide
                </a>
            </div>
        </div>
    </section>

    <footer class="bg-slate-900 text-slate-400 py-16">
        <div class="container mx-auto px-6 text-center">
            <a href="#" class="inline-block mb-4"> <img src="https://github.com/user-attachments/assets/b121714e-d5dd-4b5b-801d-3f9089f95501" alt="vibeGraphQL Logo" class="mx-auto h-12 w-auto opacity-80 hover:opacity-100 transition-opacity" onerror="this.style.display='none'">
             </a>
            <p class="mb-6 text-sm">A modern, minimalistic GraphQL library for Go.</p>
            <div class="flex justify-center space-x-6 mb-8">
                <a href="https://github.com/Raezil/vibeGraphql" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-400 transition duration-300" aria-label="GitHub">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.201 2.397.098 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                    </svg>
                </a>
                <a href="#" class="hover:text-indigo-400 transition duration-300" aria-label="Twitter"> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                    </svg>
                </a>
                 <a href="#" class="hover:text-indigo-400 transition duration-300" aria-label="Discord"> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                       <path d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v16.056c0 1.368-1.104 2.472-2.46 2.472h-1.38l-1.104 1.056-1.536 1.464-1.536-1.464-1.104-1.056h-7.416c-1.356 0-2.46-1.104-2.46-2.472v-16.056c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c-.66 0-1.2-.54-1.2-1.2s.54-1.2 1.2-1.2 1.2.54 1.2 1.2-.54 1.2-1.2 1.2zm-4.8 0c-.66 0-1.2-.54-1.2-1.2s.54-1.2 1.2-1.2 1.2.54 1.2 1.2-.54 1.2-1.2 1.2zm6.432-5.004c.012-.084.024-.168.024-.252 0-1.884-1.524-3.408-3.408-3.408s-3.408 1.524-3.408 3.408c0 .084.012.168.024.252-.564.192-1.044.516-1.416.924-.036.036-.072.072-.096.108-.024.036-.048.072-.072.108-.024.036-.048.06-.06.096-.024.036-.036.072-.06.108l-.012.024c-1.176 1.476-1.332 3.456-1.332 3.456s.78 1.512 3.036 1.512c.144 0 .288-.012.432-.024.144.012.288.024.432.024 1.02 0 1.932-.36 2.652-.96.72.6 1.632.96 2.652.96.144 0 .288-.012.432-.024.144.012.288.024.432.024 2.256 0 3.036-1.512 3.036-1.512s-.156-1.98-1.332-3.456l-.012-.024c-.024-.036-.036-.072-.06-.108-.012-.036-.036-.072-.06-.096-.024-.036-.048-.072-.072-.108-.024-.036-.06-.072-.096-.108-.372-.408-.852-.732-1.416-.924z"/>
                    </svg>
                </a>
            </div>
            <p class="text-xs">&copy; 2024 vibeGraphQL Project Contributors. Released under the MIT License.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              const offsetTop = targetElement.offsetTop;
              window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
              });
            }
          });
        });

        // Add potential future JS here (e.g., copy code button, animations)

    </script>

</body>
</html>
